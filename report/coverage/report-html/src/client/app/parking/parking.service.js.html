<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for ./src/client/app/parking/parking.service.js</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../../../prettify.css">
    <link rel="stylesheet" href="../../../../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header low">
    <h1>Code coverage report for <span class="entity">./src/client/app/parking/parking.service.js</span></h1>
    <h2>
        Statements: <span class="metric">14.44% <small>(13 / 90)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">0% <small>(0 / 37)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">4.76% <small>(1 / 21)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">14.44% <small>(13 / 90)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">./src/client/app/parking/</a> &#187; parking.service.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">(function () {
    'use strict';
&nbsp;
    angular
        .module('app.parking')
        .factory('ParkingService', ParkingService);
&nbsp;
    ParkingService.$inject = ['logger', 'DriveOptions', 'TimeHelper'];
    /* @ngInject */
<span class="fstat-no" title="function not covered" >    function ParkingService(logger, DriveOptions, TimeHelper) {</span>
<span class="cstat-no" title="statement not covered" >        var service = {</span>
            analize: analize,
            validateInput: validateInput
        };
&nbsp;
<span class="cstat-no" title="statement not covered" >        var ONE_MINUTE = 1;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        var DriveEvent = {</span>
            createLeaveEvent: <span class="fstat-no" title="function not covered" >function(args) {</span>
<span class="cstat-no" title="statement not covered" >                var props = {</span>
                    type: DriveOptions.LEAVE_PARKING,
                    time: TimeHelper.toTime(args.points + ONE_MINUTE),
                    points: args.points
                };
<span class="cstat-no" title="statement not covered" >                return Object.create(DriveEvent).init(props);</span>
            },
&nbsp;
            createEnterEvent: <span class="fstat-no" title="function not covered" >function(args) {</span>
<span class="cstat-no" title="statement not covered" >                var props = {</span>
                    type: DriveOptions.ENTER_TO_PARKING,
                    time: args.points,
                    points: args.points
                };
<span class="cstat-no" title="statement not covered" >                return Object.create(DriveEvent).init(props);</span>
            },
&nbsp;
            init: <span class="fstat-no" title="function not covered" >function(args) {</span>
<span class="cstat-no" title="statement not covered" >                args = args || {};</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                this.points = args.points;</span>
<span class="cstat-no" title="statement not covered" >                this.time = args.time;</span>
<span class="cstat-no" title="statement not covered" >                this.type = args.type;</span>
<span class="cstat-no" title="statement not covered" >                return this;</span>
            },
&nbsp;
            //Function for sorting times
            sortASC: <span class="fstat-no" title="function not covered" >function(first, second) {</span>
<span class="cstat-no" title="statement not covered" >                return first.points - second.points;</span>
            }
        };
&nbsp;
<span class="fstat-no" title="function not covered" >        function analize(inputData) {</span>
<span class="cstat-no" title="statement not covered" >            var inputTimeList = parseInput(inputData);</span>
<span class="cstat-no" title="statement not covered" >            var sortedTimeList = inputTimeList.sort(DriveEvent.sortASC);</span>
<span class="cstat-no" title="statement not covered" >            var eventList = createEventList(sortedTimeList);</span>
<span class="cstat-no" title="statement not covered" >            var graphOptions = generateGraph(eventList);</span>
<span class="cstat-no" title="statement not covered" >            return graphOptions;</span>
        }
&nbsp;
<span class="fstat-no" title="function not covered" >        function generateGraph (eventList) {</span>
<span class="cstat-no" title="statement not covered" >            var timeList = ['00:00'];</span>
<span class="cstat-no" title="statement not covered" >            var carCountList = [0];</span>
<span class="cstat-no" title="statement not covered" >            eventList.map(<span class="fstat-no" title="function not covered" >function (item, index) {</span></span>
<span class="cstat-no" title="statement not covered" >                timeList.push(item.eventTime);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                if (index &gt; 0 &amp;&amp; eventList[index - 1].enteredCars &gt; 0 &amp;&amp; eventList[index - 1].leftCars &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >                    carCountList.push(carCountList[carCountList.length - 1] - eventList[index - 1].leftCars);</span>
<span class="cstat-no" title="statement not covered" >                    if (item.enteredCars &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >                        carCountList[carCountList.length - 1] = carCountList[carCountList.length - 1] + item.enteredCars;</span>
                    }
                } else {
<span class="cstat-no" title="statement not covered" >                    if (item.enteredCars &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >                        carCountList.push(carCountList[carCountList.length - 1] + item.enteredCars);</span>
                    } else {
<span class="cstat-no" title="statement not covered" >                        carCountList.push(carCountList[carCountList.length - 1]);</span>
                    }
<span class="cstat-no" title="statement not covered" >                    if (index &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >                        carCountList[carCountList.length - 1] = carCountList[carCountList.length - 1] - eventList[index - 1].leftCars;</span>
                    }
                }
            });
<span class="cstat-no" title="statement not covered" >            timeList.push('00:00');</span>
<span class="cstat-no" title="statement not covered" >            carCountList.push(0);</span>
<span class="cstat-no" title="statement not covered" >            return {</span>
                timeList: timeList,
                carCountList: carCountList
            };
        }
&nbsp;
<span class="fstat-no" title="function not covered" >        function filterByTime (time, sortedTimeList) {</span>
<span class="cstat-no" title="statement not covered" >            return sortedTimeList.filter(<span class="fstat-no" title="function not covered" >function (item) {</span></span>
<span class="cstat-no" title="statement not covered" >                return item.time === time;</span>
            });
        }
&nbsp;
<span class="fstat-no" title="function not covered" >        function sortByStatus (actionArray) {</span>
<span class="cstat-no" title="statement not covered" >            var enteredCars = 0;</span>
<span class="cstat-no" title="statement not covered" >            var leftCars = 0;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >            actionArray.map(<span class="fstat-no" title="function not covered" >function (item) {</span></span>
<span class="cstat-no" title="statement not covered" >                if (item.type === DriveOptions.ENTER_TO_PARKING) {</span>
<span class="cstat-no" title="statement not covered" >                    enteredCars += 1;</span>
                }
                else {
<span class="cstat-no" title="statement not covered" >                    leftCars += 1;</span>
                }
            });
&nbsp;
<span class="cstat-no" title="statement not covered" >            return {</span>
                enteredCars: enteredCars,
                leftCars: leftCars
            };
        }
&nbsp;
        //Create list of events at the point of a time with count of entered and left cars
<span class="fstat-no" title="function not covered" >        function createEventList (sortedTimeList) {</span>
            // var sortedArray = [];
            // var tempFilteredData = sortedTimeList;
&nbsp;
<span class="cstat-no" title="statement not covered" >            return sortedTimeList.reduce(<span class="fstat-no" title="function not covered" >function(allEvents, event) {</span></span>
<span class="cstat-no" title="statement not covered" >                if (!allEvents[event.time]) {</span>
<span class="cstat-no" title="statement not covered" >                    allEvents[event.time] = 0;</span>
                }
&nbsp;
<span class="cstat-no" title="statement not covered" >                if (event.type === DriveOptions.ENTER_TO_PARKING) {</span>
<span class="cstat-no" title="statement not covered" >                    allEvents[event.time] += 1;</span>
                } else <span class="cstat-no" title="statement not covered" >if (event.type === DriveOptions.LEAVE_PARKING) {</span>
<span class="cstat-no" title="statement not covered" >                    allEvents[event.time] -= 1;</span>
                }
&nbsp;
<span class="cstat-no" title="statement not covered" >                return allEvents;</span>
            }, {});
            //
            // for (var i = 0; i &lt; tempFilteredData.length; i++) {
            //     var eventTime = tempFilteredData[i].time;
            //     if (sortedArray.length &gt; 0 &amp;&amp; sortedArray[i-1].eventTime === eventTime) {
            //         tempFilteredData.splice(i, 1);
            //         i--;
            //     } else {
            //         var filteredByTime = filterByTime(eventTime, sortedTimeList);
            //         var sortedByStatus = sortByStatus(filteredByTime);
            //         sortedArray.push({
            //             eventTime: eventTime,
            //             enteredCars: sortedByStatus.enteredCars,
            //             leftCars: sortedByStatus.leftCars
            //         });
            //     }
            // }
            //
            // return sortedArray;
        }
&nbsp;
        //Check input data for completeness and validity
<span class="fstat-no" title="function not covered" >        function validateInput(inputData) {</span>
<span class="cstat-no" title="statement not covered" >            var validationErrors = [];</span>
<span class="cstat-no" title="statement not covered" >            var lines = inputData.split('\n');</span>
<span class="cstat-no" title="statement not covered" >            lines.forEach(<span class="fstat-no" title="function not covered" >function (line, index) {</span></span>
<span class="cstat-no" title="statement not covered" >                var times = line.replace(/(?:\r\n|\r|\n)/g, '').split(',');</span>
<span class="cstat-no" title="statement not covered" >                var timePattern = /^([0-9]{2}:[0-9]{2})$/; </span>//Regex for validation time format hh:mm
&nbsp;
                //Checking inputs for validity. Inputs must match time format hh:mm
<span class="cstat-no" title="statement not covered" >                if (!(timePattern.test(times[0]) &amp;&amp; timePattern.test(times[1]))) {</span>
<span class="cstat-no" title="statement not covered" >                    validationErrors.push('Invalid input at line ' + (index + 1) +  ' for times ' + line + ': Time is not in valid format.');</span>
<span class="cstat-no" title="statement not covered" >                    return;</span>
                }
&nbsp;
                //Checking inputs for validity as time (hours must be less than 24 and minutes must me less than 59)
<span class="cstat-no" title="statement not covered" >                var enterStringTime = times[0].split(':');</span>
<span class="cstat-no" title="statement not covered" >                var leaveStringTime = times[1].split(':');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                if (validateTime(enterStringTime) || validateTime(leaveStringTime)) {</span>
<span class="cstat-no" title="statement not covered" >                    validationErrors.push('Invalid input at line ' + (index + 1) +  ' for times ' + line + ': Time is not in valid format.');</span>
<span class="cstat-no" title="statement not covered" >                    return;</span>
                }
&nbsp;
                // Cheking for time interval validity (enterTime must be less then leaveTime)
<span class="cstat-no" title="statement not covered" >                var enterTime = new Date('2016', '01', '01', enterStringTime[0], enterStringTime[1]);</span>
<span class="cstat-no" title="statement not covered" >                var leaveTime = new Date('2016', '01', '01', leaveStringTime[0], leaveStringTime[1]);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                if (enterTime.getTime() &gt;= leaveTime.getTime()) {</span>
<span class="cstat-no" title="statement not covered" >                    validationErrors.push('Invalid input at line ' + (index + 1) +  ' for times ' + line + ': Time interval is not valid.');</span>
<span class="cstat-no" title="statement not covered" >                    return;</span>
                }
            });
<span class="cstat-no" title="statement not covered" >            return validationErrors;</span>
        }
&nbsp;
        //Validate inputs for matching valid time format hh:mm
<span class="fstat-no" title="function not covered" >        function validateTime(inputTime) {</span>
<span class="cstat-no" title="statement not covered" >            return inputTime[0] &gt; 23 || inputTime[0] &lt; 0 || inputTime[1] &gt; 59 || inputTime[1] &lt; 0;</span>
        }
&nbsp;
        //Write all date in one line and then split it into array of times
<span class="fstat-no" title="function not covered" >        function transformToArray(inputData) {</span>
<span class="cstat-no" title="statement not covered" >            return inputData.replace(/(?:\r\n|\r|\n)/g, ',').split(',');</span>
        }
&nbsp;
<span class="fstat-no" title="function not covered" >        function parseInput(inputData) {</span>
<span class="cstat-no" title="statement not covered" >            var inputTimeList = transformToArray(inputData);</span>
<span class="cstat-no" title="statement not covered" >            return inputTimeList.map(<span class="fstat-no" title="function not covered" >function (time, index) {</span></span>
<span class="cstat-no" title="statement not covered" >                var itemTime = time.split(':');</span>
<span class="cstat-no" title="statement not covered" >                return DriveEvent.create({</span>
                    points: parseInt(itemTime[0] * 60 + itemTime[1], 10),
                    time: time,
                    type: index % 2 === 0 ? DriveOptions.ENTER_TO_PARKING : DriveOptions.LEAVE_PARKING
                });
            });
&nbsp;
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        return service;</span>
    }
})();
&nbsp;</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Mon Apr 11 2016 12:58:07 GMT+0400 (Arabian Standard Time)</div>
</div>
<script src="../../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../../sorter.js"></script>
</body>
</html>
